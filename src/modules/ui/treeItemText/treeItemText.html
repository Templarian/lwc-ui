<template>
  <template if:false={isEditing}>
    <ui-context-menu>
      <div onmousedown={handleMouseDown}>
        {value}
      </div>
      <ui-menu slot="menu">
        <ui-menu-item>Add Node</ui-menu-item>
        <ui-menu-item>Add Group</ui-menu-item>
        <ui-menu-separator></ui-menu-separator>
        <ui-menu-item onclick={handleRename}>Rename</ui-menu-item>
        <ui-menu-item>Delete</ui-menu-item>
      </ui-menu>
    </ui-context-menu>
  </template>
  <template if:true={isEditing}>
    <input type="text"
      value={value}
      onblur={handleBlur}
      onkeydown={handleKeyDown} />
  </template>
  <button class="new-group" onclick={handleNewGroup}>
    <ui-icon path={mdiFolderPlus}></ui-icon>
  </button>
  <button class="new-node" onclick={handleNewNode}>
    <ui-icon path={mdiFilePlus}></ui-icon>
  </button>
  <button class="rename" onclick={handleEdit}>
    <ui-icon path={mdiPencil}></ui-icon>
  </button>
  <button class="delete" onclick={handleRemove}>
    <ui-icon path={mdiDelete}></ui-icon>
  </button>
  <ui-dropdown placement="bottom-end">
    <button class="actions" onclick={handleRemove}>
      <ui-icon path={mdiDotsHorizontal}></ui-icon>
    </button>
    <ui-menu slot="menu">
      <ui-menu-item onclick={handleEdit}>
        <ui-icon slot="left" path={mdiPencil}></ui-icon>
        Rename
      </ui-menu-item>
      <ui-menu-item>
        <ui-icon slot="left" path={mdiDelete}></ui-icon>
        Delete File
      </ui-menu-item>
    </ui-menu>
  </ui-dropdown>
</template>